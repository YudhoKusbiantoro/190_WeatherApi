<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cuaca</title>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>



<body>
    <div class="container">
        <h2>Informasi Cuaca</h2>

        <div style="text-align: center;">
            <input type="text" id="lokasiInput" placeholder="Masukkan lokasi...">
            <button id="getBtn">Get</button>
        </div>

        <hr>
        <p class="label">Lokasi: <span id="lokasi">-</span></p>
        <div id="tampilan">
            <h3>Cuaca</h3>
            <p>Suhu Celcius: <span id="celcius">-</span> 째C</p>
            <p>Suhu Fahrenheit: <span id="fahrenheit">-</span> 째F</p>
            <p>Kelembapan: <span id="humidity">-</span> %</p>

            <hr>
            <h3>Lokasi</h3>
            <p>Negara: <span id="negara">-</span></p>
            <p>Provinsi: <span id="provinsi">-</span></p>
            <p>Kecamatan: <span id="kecamatan">-</span></p>
            <p>Longitude: <span id="long">-</span></p>
            <p>Latitude: <span id="lat">-</span></p>
        </div>
    </div>

    <script>
        const urlapiBase = "https://api.weatherapi.com/v1/current.json";
        const apiKey = "a195aa20fd814007a3365854250710";

        $("#getBtn").click(function () {
            const lokasi = $("#lokasiInput").val().trim();
            if (lokasi === "") {
                alert("Masukkan nama kota terlebih dahulu!");
                return;
            }

            const urlapi = `${urlapiBase}?key=${apiKey}&q=${encodeURIComponent(lokasi)}&aqi=no`;

            $.ajax({
                url: urlapi,
                dataType: "json",
                method: "GET",
                success: function (data) {
                    console.log(data);
                    const v = document.getElementById("tampilan");
                    const l = document.getElementById("lokasi");

               
                    let suhuC = data.current.temp_c;
                    let suhuF = data.current.temp_f;
                    let kelembapan = data.current.humidity;

                 
                    let negara = data.location.country;
                    let provinsi = data.location.region;
                    let kecamatan = data.location.name;
                    let lon = data.location.lon;
                    let lat = data.location.lat;

                  
                    v.innerHTML = `
                        <h4>Cuaca</h4>
                        Suhu Celcius = ${suhuC} 째C<br>
                        Suhu Fahrenheit = ${suhuF} 째F<br>
                        Kelembapan = ${kelembapan} %<br><br>

                        <h4>Lokasi</h4>
                        Negara = ${negara}<br>
                        Provinsi = ${provinsi}<br>
                        Kecamatan = ${kecamatan}<br>
                        Longitude = ${lon}<br>
                        Latitude = ${lat}
                    `;
                    l.innerHTML = data.location.name;
                },
                
                },
            });
        });
    </script>
</body>

</html>